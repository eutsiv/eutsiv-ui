System.register("eutsiv-ui",["mithril"],function(t,e){"use strict";var i;e&&e.id;return{setters:[function(t){i=t}],execute:function(){t("applyAttrsModifiers",(t,...e)=>{let s=Object.assign({},t);if(s.eui=Object.assign({},s.eui),!Array.isArray(s.class)&&(s.class=s.class?[s.class]:[]),!s.style&&(s.style={}),e.forEach(t=>{s=t(s)}),s.route){let t=s.onclick,e=s.route,n=s.params;if(/\?/.test(e)&&n)throw new SyntaxError("Route contains a ? so params should not be defined");s.href=n?`#!${e}?`+i.default.buildQueryString(n):`#!${e}`,s.onclick=(s=>{t&&t(s),s.preventDefault(),i.default.route.set(e,n)})}return Array.isArray(s.class)&&(s.class=s.class.length?s.class.join(" "):void 0),0===Object.keys(s.style).length&&s.style.constructor===Object&&(s.style=void 0),s.eui=void 0,s.params=void 0,s.route=void 0,s}),t("pipeAttrsHandlers",(...t)=>e=>{let s=Object.assign({},e);if(s.eui=Object.assign({},s.eui),!Array.isArray(s.class)&&(s.class=s.class?[s.class]:[]),!s.style&&(s.style={}),t.forEach(t=>{s=t(s)}),s.route){let t=s.onclick,e=s.route,n=s.params;if(/\?/.test(e)&&n)throw new SyntaxError("Route contains a ? so params should not be defined");s.href=n?`#!${e}?`+i.default.buildQueryString(n):`#!${e}`,s.onclick=(s=>{t&&t(s),s.preventDefault(),i.default.route.set(e,n)})}return Array.isArray(s.class)&&(s.class=s.class.length?s.class.join(" "):void 0),0===Object.keys(s.style).length&&s.style.constructor===Object&&(s.style=void 0),s.eui=void 0,s.params=void 0,s.route=void 0,s}),t("Sizes",{XS:"XS",SM:"SM",DE:"DE",LG:"LG",XL:"XL",HU:"HU",fontSize:{XS:"0.64em",SM:"0.82em",DE:"1.00em",LG:"1.32em",XL:"1.64em",HU:"2.28em"},unitGrid:{XS:"2px",SM:"4px",DE:"8px",LG:"12px",XL:"16px",HU:"24px"}})}}}),System.register("eutsiv-ui/Component",["mithril","eutsiv-ui"],function(t,e){"use strict";var i,s,n,u,r,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t}],execute:function(){t("Component",()=>({view:t=>i.default("div",s.pipeAttrsHandlers(r,a)(t.attrs),t.children)})),t("applyClasses",t=>(t.class.push("eui-component"),t)),t("applyConfig",t=>{let e=t.eui;return t=n(t),t=u(t),e.size&&(t.style.fontSize=s.Sizes.fontSize[e.size]),t}),t("applyConfigContext",n=(t=>{let e=t.eui;return e.context&&t.class.push(`eui-${e.context}`),t})),t("applyConfigFit",u=(t=>{return t.eui.fit&&t.class.push("eui-fit"),t})),t("handleComponentClass",r=(t=>(t.class.push("eui-component"),t))),t("handleComponentContext",t=>{let e=t.eui;return e.context&&t.class.push(`eui-${e.context}`),t}),t("handleComponentFit",a=(t=>{return t.eui.fit&&t.class.push("eui-fit"),t})),t("handleComponentSize",t=>{let e=t.eui;return e.size&&(t.style.fontSize=s.Sizes.fontSize[e.size]),t})}}}),System.register("eutsiv-ui/Viewport",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Viewport",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u),t.children)})),u=(t=>((t=n.applyClasses(t)).class.push("eui-viewport"),t))}}}),System.register("eutsiv-ui/components/form/Select",["mithril"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t}],execute:function(){s=(t=>t.state.selected.map(e=>i.default("div",[i.default("input",{type:"hidden",name:t.state.fields.id,value:e.id}),i.default("input",{type:"hidden",name:t.state.fields.text,value:e.text})]))),n=(()=>{}),u=((t,e)=>{let i=new RegExp(e,"i");return t.text&&-1!=t.text.search(i)}),r=(t=>{let e;return(e=t.state.remote.fn?t.state.remote.fn(t.state.query):i.default.request({method:"GET",url:t.state.remote.url,params:t.state.remote.params})).then(t.state.remote.processResponse).then(e=>{t.state.data=e})}),t("Select",()=>{let t=0,e=void 0,a=e=>{t=e.dom.offsetWidth},o={dirty:!1,open:!1};return{oninit:t=>{t.state.data=t.attrs.data||[],o.open=t.attrs.open||!1,t.state.multiple=t.attrs.multiple||!1,t.state.fields=t.attrs.fields||{id:"select[id]",text:"select[text]"},t.state.onSelect=t.attrs.onSelect||n,t.state.onInput=t.attrs.onInput||n,t.state.query=t.attrs.query||"",t.state.selected=t.attrs.selected||[],t.state.remote=t.attrs.remote||!1,t.state.remote&&r(t)},oncreate:t=>{document.addEventListener("click",function(e){e.target.parentElement!=t.dom&&(o.open=!1,t.dom.querySelector("div.eui-select-content").children.item(0).blur(),i.default.redraw.sync())})},onupdate:function(t){o.open?(t.dom.querySelector("div.eui-select-content").children.item(0).focus(),t.dom.style.zIndex="9999"):t.dom.style.zIndex="1"},view:n=>(!o.dirty&&n.attrs.selected&&(n.state.selected=n.attrs.selected),i.default("div",{class:"eui-select",oncreate:a,onupdate:a,onclick:t=>{t.stopPropagation(),o.open=!o.open}},[i.default("div",{class:o.open?"eui-input eui-open":"eui-input"},(t=>{let e=t.state.multiple?t.state.selected.map(t=>i.default("a",{class:"eui-button eui-sm eui-compact eui-primary"},t.text,i.default.trust("&nbsp;&times;"))):t.state.selected.map(t=>i.default("span",t.text));return e.length?e:i.default("span","...")})(n)),i.default("div",s(n)),i.default("div",{class:o.open?"eui-select-container eui-open":"eui-select-container"},i.default("div",Object.assign({class:"eui-select-content"},t&&{style:`width:${t}px`}),i.default("input",{oninput:t=>{n.state.query=t.target.value,n.state.onInput(t.target.value,n),n.state.remote&&r(n)},onclick:t=>{t.stopPropagation()}}),i.default("ul",n.state.data.filter(t=>u(t,n.state.query)).map(t=>i.default("li",i.default("a",{onclick:i=>{i.stopPropagation(),((t,i,s)=>{s.state.multiple?s.state.selected.push(i):s.state.selected=[i],e=i.text,s.state.onSelect(t,i,s),o.dirty=!0})(i,t,n),o.open=!o.open}},t.text))))))]))}})}}}),System.register("eutsiv-ui/layout/grid/Grid",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Grid",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u),t.children)})),u=(t=>((t=n.applyClasses(t)).class.push("eui-layout-grid"),t))}}}),System.register("eutsiv-ui/layout/grid/Row",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Row",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u),t.children)})),u=(t=>((t=n.applyClasses(t)).class.push("eui-row"),t))}}}),System.register("eutsiv-ui/layout/grid/Column",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Column",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u,r),t.children)})),t("applyClasses",u=(t=>((t=n.applyClasses(t)).class.push("eui-column"),t))),t("applyConfig",r=(t=>{let e=t.eui,i=e.size||[],s=e.offset||[],n=(t,e)=>t.map((t,i)=>{if(t)return`${e[i]}-${t}`}).filter(t=>{if(t)return!0});return t.class.push(...n(i,["eui-sm","eui"])),t.class.push(...n(s,["eui-sm-offset","eui-offset"])),t}))}}}),System.register("eutsiv-ui/layout/Grid",["eutsiv-ui/layout/grid/Grid","eutsiv-ui/layout/grid/Row","eutsiv-ui/layout/grid/Column"],function(t,e){"use strict";var i,s,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Grid",i.Grid),t("Row",s.Row),t("Column",n.Column)}}}),System.register("eutsiv-ui/layout/Gutter",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Gutter",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u,r),t.children)})),u=(t=>((t=n.applyClasses(t)).class.push("eui-gutter"),t)),r=(t=>("boolean"!=typeof t.eui.fit&&(t.eui.fit=!0),(t=n.applyConfigFit(t)).eui.size&&(t.style.padding=s.Sizes.unitGrid[t.eui.size]),t))}}}),System.register("eutsiv-ui/widget/Badge",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Badge",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u),t.children,i.default("span",s.applyAttrsModifiers(t.attrs,r,n.applyConfigContext),t.attrs.eui.value))})),u=(t=>((t=n.applyClasses(t)).class.push("eui-badge-container"),t)),r=(t=>(t.class.push("eui-badge"),t))}}}),System.register("eutsiv-ui/widget/Link",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Link",()=>({view:t=>i.default("a",s.applyAttrsModifiers(t.attrs,u,n.applyConfig),t.children)})),u=(t=>((t=n.applyClasses(t)).class.push("eui-link"),t))}}}),System.register("eutsiv-ui/widget/Icon",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Icon",()=>({view:t=>i.default("i",s.applyAttrsModifiers(t.attrs,u,r),t.children)})),u=(t=>((t=n.applyClasses(t)).class.push("eui-icon"),t)),r=(t=>{let e=(t=n.applyConfig(t)).eui;return e.type&&t.class.push(`eui-icon-${e.type}`),e.spin&&t.class.push("eui-spin"),t})}}}),System.register("eutsiv-ui/widget/Breadcrumb",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Link","eutsiv-ui/widget/Icon"],function(t,e){"use strict";var i,s,n,u,r,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t},function(t){u=t},function(t){r=t}],execute:function(){t("Breadcrumb",()=>({view:t=>i.default("ul",s.applyAttrsModifiers(t.attrs,a,n.applyConfig),[t.attrs.eui.items.map((t,e,s)=>{let n="function"==typeof t.text?t.text():t.text,a=e==s.length-1?i.default("span",{class:"eui-active"},n):[i.default(u.Link,{href:t.href,disabled:t.disabled,route:t.route,eui:{context:t.context}},n),i.default(r.Icon,{disabled:!0,eui:{type:"right-open"}})];return i.default("li",a)})])})),a=(t=>((t=n.applyClasses(t)).class.push("eui-breadcrumb"),t))}}}),System.register("eutsiv-ui/widget/Button",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r,a,o;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Button",()=>({view:t=>i.default("a",s.pipeAttrsHandlers(n.handleComponentClass,u,n.handleComponentContext,n.handleComponentSize,r,a,o)(t.attrs),t.children)})),u=(t=>(t.class.push("eui-button"),t)),r=(t=>{return t.eui.block&&t.class.push("eui-block"),t}),a=(t=>{return t.eui.compact&&t.class.push("eui-compact"),t}),o=(t=>{return t.eui.flat&&t.class.push("eui-flat"),t})}}}),System.register("eutsiv-ui/widget/form/Checkbox",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Checkbox",()=>({view:t=>{let e=s.applyAttrsModifiers(t.attrs,u,r),n=e.onchange;return delete e.onchange,i.default("label",e,i.default("input",{type:"checkbox",checked:e.checked,disabled:e.disabled,name:e.name,value:e.value,onchange:n}),i.default("span",{class:"eui-fake"}),t.children)}})),u=(t=>((t=n.applyClasses(t)).class.push("eui-checkbox"),t)),r=(t=>{return t.eui.inline&&t.class.push("eui-inline"),t})}}}),System.register("eutsiv-ui/widget/form/Field",["mithril","eutsiv-ui/layout/Grid","eutsiv-ui/layout/Gutter"],function(t,e){"use strict";var i,s,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Field",()=>({view:t=>i.default(s.Column,t.attrs,i.default(n.Gutter,t.children))}))}}}),System.register("eutsiv-ui/widget/form/Label",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Label",()=>({view:t=>i.default("label",s.applyAttrsModifiers(t.attrs,n.applyClasses,u),t.children.map(t=>"string"==typeof t?i.default("span",{class:"eui-text"},t):t))})),u=(t=>{return t.eui.inline&&t.class.push("eui-inline"),t})}}}),System.register("eutsiv-ui/widget/form/Radio",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Radio",()=>({view:t=>{let e=s.applyAttrsModifiers(t.attrs,u,r),n=e.onchange;return delete e.onchange,i.default("label",e,i.default("input",{type:"radio",checked:e.checked,disabled:e.disabled,name:e.name,value:e.value,onchange:n}),i.default("span",{class:"eui-fake"}),t.children)}})),u=(t=>((t=n.applyClasses(t)).class.push("eui-radio"),t)),r=(t=>{return t.eui.inline&&t.class.push("eui-inline"),t})}}}),System.register("eutsiv-ui/widget/Form",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/form/Checkbox","eutsiv-ui/widget/form/Field","eutsiv-ui/widget/form/Label","eutsiv-ui/widget/form/Radio"],function(t,e){"use strict";var i,s,n,u,r,a,o,l;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t},function(t){u=t},function(t){r=t},function(t){a=t},function(t){o=t}],execute:function(){t("Checkbox",u.Checkbox),t("Field",r.Field),t("Label",a.Label),t("Radio",o.Radio),t("Form",()=>({view:t=>i.default("form",s.applyAttrsModifiers(t.attrs,l),t.children)})),l=(t=>((t=n.applyClasses(t)).class.push("eui-form"),t))}}}),System.register("eutsiv-ui/widget/Loading",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Loading",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u),[...Array(6).keys()].map(t=>i.default("div",{class:`eui-ball eui-ball-${t+1}`})))})),u=(t=>((t=n.applyClasses(t)).class.push("eui-loading"),t))}}}),System.register("eutsiv-ui/widget/Notification",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Notification",()=>({view:t=>i.default("div",s.pipeAttrsHandlers(n.handleComponentClass,u,n.handleComponentContext,n.handleComponentSize)(t.attrs),t.children)})),u=(t=>(t.class.push("eui-notification"),t))}}}),System.register("eutsiv-ui/widget/Progress",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Progress",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u,n.applyConfig),i.default("div",{class:"eui-bar",style:`width:${t.attrs.eui.percent}%`}))})),u=(t=>((t=n.applyClasses(t)).class.push("eui-progress"),t))}}}),System.register("eutsiv-ui/widget/Table",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){t("Table",()=>({view:t=>{let e=t.attrs.eui;return i.default("div",s.applyAttrsModifiers(t.attrs,u),i.default("table",{class:"eui-table eui-condensed eui-striped"},[i.default("thead",[i.default("tr",e.columns.map(t=>Array.isArray(t.title)?i.default("th",{onclick:t.title[1],style:"cursor:pointer"},t.title[0]):i.default("th",t.title)))]),i.default("tbody",e.data.map(t=>i.default("tr",{key:t[e.key]},e.columns.map(e=>{let s="function"==typeof e.content?e.content(t):t[e.content];return i.default("td",s)}))))]))}})),u=(t=>((t=n.applyClasses(t)).class.push("eui-table-container"),t))}}}),System.register("eutsiv-ui/widget/Tabs",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Button","eutsiv-ui/layout/Gutter"],function(t,e){"use strict";var i,s,n,u,r,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t},function(t){u=t},function(t){r=t}],execute:function(){t("Tabs",()=>{let t=0;return{view:e=>i.default("div",s.pipeAttrsHandlers(n.handleComponentClass,a)(e.attrs),[...e.attrs.eui.tabs.map((e,s)=>i.default(u.Button,{onclick:()=>{t=s},disabled:t==s},e.title)),i.default(r.Gutter,e.attrs.eui.tabs[t].content)])}}),a=(t=>(t.class.push("eui-tabs"),t))}}}),System.register("eutsiv-ui/widget/calendar/Calendar",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r,a,o,l,d;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){6,u=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],a=((t,e)=>new Date(t,e+1,0).getDate()),o=((t,e)=>{let i=a(t,e),s=new Date(t,e,1).getDay(),n=0==e?11:e-1,r=a(11==n?t-1:t,n),o=[],l=1,d=1;return[...Array(6*u.length).keys()].reduce((t,e)=>(e<s?o.push({day:r-s+e+1,intruder:!0}):d>i?o.push({day:l++,intruder:!0}):o.push({day:d++,intruder:!1}),(e+1)%u.length==0&&(t.push(o),o=[]),t),[])}),l={view:()=>i.default("div",{class:"eui-week-days"},u.map(t=>i.default("div",{class:"eui-day"},t)))},t("Calendar",({attrs:t})=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,d,n.applyConfig),i.default("h2",r[t.attrs.month]+" "+t.attrs.year),i.default(l),i.default("div",{class:"eui-calendar-grid"},o(t.attrs.year,t.attrs.month).map(e=>i.default("div",{class:"eui-calendar-row"},e.map(e=>{let s="eui-day";e.intruder&&(s+=" eui-other-month");let n=new Date(t.attrs.year,t.attrs.month,e.day).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return i.default("div",{class:s,title:n},e.day)})))))})),d=(t=>((t=n.applyClasses(t)).class.push("eui-calendar"),t))}}}),System.register("eutsiv-ui/widget/data/Grid",["mithril","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r,a,o,l,d,c;e&&e.id;return{setters:[function(t){i=t},function(t){s=t}],execute:function(){n=(t=>{if(!t.attrs.column.width||t.attrs.column.width<t.dom.scrollWidth){let e=t.dom.scrollWidth+2*parseInt(window.getComputedStyle(t.dom,null).getPropertyValue("padding-right").slice(0,-2));t.attrs.column.width=e,i.default.redraw()}}),u=((t,e)=>!!e.length&&e.reduce((t,e,i)=>e.fn(t,e.order,i),t)),r={view:t=>i.default("div",{class:"header",style:t.attrs.gridState.totalWidth?`width:${t.attrs.gridState.totalWidth}px`:""},t.attrs.columns.map((e,s)=>{t.attrs.gridState.columns[s]||(t.attrs.gridState.columns[s]={}),!t.attrs.gridState.columns[s].sort&&e.sort&&(t.attrs.gridState.columns[s].sort={fn:e.sort,index:s,nth:0,order:null});let n="&nbsp;";return e.title&&(n=e.title),t.attrs.gridState.columns[s].sort&&t.attrs.gridState.columns[s].sort.order&&(1==t.attrs.gridState.columns[s].sort.order?n+=" &#11015;":-1==t.attrs.gridState.columns[s].sort.order&&(n+=" &#11014;"),n+=` <small>(${t.attrs.gridState.columns[s].sort.nth+1})</small>`),[i.default(a,{column:t.attrs.gridState.columns[s],data:t.attrs.data,gridState:t.attrs.gridState},i.default.trust(n)),i.default(o,{column:t.attrs.gridState.columns[s],gridState:t.attrs.gridState})]}))},a={oncreate:t=>{n(t)},onupdate:t=>{n(t)},view:t=>i.default("div",{class:"col col-header",style:t.attrs.column.width?`width:${t.attrs.column.width}px`:"",onclick:e=>{if(!t.attrs.column.sort)return t.attrs.gridState.columns.forEach(t=>{t.sort&&(t.sort.order=null)}),void(t.attrs.gridState.sortStack=[]);if(t.attrs.column.sort.order?1==t.attrs.column.sort.order?t.attrs.column.sort.order=-1:t.attrs.column.sort.order=null:t.attrs.column.sort.order=1,e.ctrlKey){let e=t.attrs.gridState.sortStack.findIndex(e=>e.index==t.attrs.column.sort.index);-1==e?(t.attrs.gridState.sortStack.unshift(t.attrs.column.sort),t.attrs.column.sort.nth=t.attrs.gridState.sortStack.length-1):t.attrs.column.sort.order?t.attrs.gridState.sortStack[e]=t.attrs.column.sort:t.attrs.gridState.sortStack.splice(e,1)}else t.attrs.gridState.sortStack=t.attrs.column.sort.order?[t.attrs.column.sort]:[],t.attrs.gridState.columns.forEach(e=>{e.sort&&e.sort.index!=t.attrs.column.sort.index&&(e.sort.order=void 0)}),t.attrs.column.sort.nth=0;t.attrs.gridState.sortedData=u(t.attrs.data,t.attrs.gridState.sortStack)}},t.children)},o={view:t=>i.default("div",{class:"resizer",onmousedown:e=>{let s=document.createElement("div"),n=e.clientX,u=t.attrs.column.dom.offsetLeft+t.attrs.column.dom.offsetWidth-t.attrs.gridState.leftScrolled;function r(t){t.preventDefault()}function a(e){let i=u+(e.clientX-n);t.attrs.column.width=i-t.attrs.column.dom.offsetLeft+t.attrs.gridState.leftScrolled,s.style.left=`${i}px`}s.style.position="absolute",s.style.top="0",s.style.left=`${u}px`,s.style.width="1px",s.style.height="100%",s.style.zIndex="1",s.style.background="#e0e0e0",t.attrs.gridState.dom.appendChild(s),window.addEventListener("selectstart",r),window.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",function e(n){t.attrs.gridState.dom.removeChild(s);let u=t.attrs.gridState.columns.map(t=>t.width).reduce((t,e)=>t+e+5,0);t.attrs.gridState.totalWidth=u>t.attrs.gridState.dom.getBoundingClientRect().width?u:0,i.default.redraw(),window.removeEventListener("mousemove",a,!1),window.removeEventListener("selectstart",r),window.removeEventListener("mouseup",e,!1)},!1)}})},l={oncreate:t=>{"auto"!=t.attrs.gridState.height&&(t.dom.style.height=t.dom.parentNode.getBoundingClientRect().height-t.dom.parentNode.querySelector(".header").getBoundingClientRect().height-2+"px")},view:t=>i.default("div",{class:"body",style:"height: 100%",onscroll:e=>{e.redraw=!1,t.attrs.gridState.leftScrolled!=e.target.scrollLeft&&(t.dom.parentNode.querySelector("div.header").style.left=-1*e.target.scrollLeft+"px",t.attrs.gridState.leftScrolled=e.target.scrollLeft,i.default.redraw())}},t.attrs.data.map(e=>i.default(d,{columns:t.attrs.columns,data:e,keyField:t.attrs.keyField,gridState:t.attrs.gridState})))},d={view:t=>i.default("div",{class:"row",style:t.attrs.gridState.totalWidth?`width:${t.attrs.gridState.totalWidth}px`:""},t.attrs.columns.map((e,s)=>{let n="function"==typeof e.content?e.content(t.attrs.data):t.attrs.data[e.content];return i.default(c,{column:t.attrs.gridState.columns[s]},n)}))},c={oncreate:t=>{t.attrs.column.dom=t.dom,(!t.attrs.column.width||t.attrs.column.width<t.dom.getBoundingClientRect().width)&&(t.attrs.column.width=t.dom.getBoundingClientRect().width,i.default.redraw())},view:t=>i.default("div",{class:"col col-body",style:t.attrs.column.width?`width:${t.attrs.column.width}px`:""},t.children)},t("Grid",()=>{let t={columns:[],dom:void 0,height:"auto",leftScrolled:0,sortedData:!1,sortStack:[],totalWidth:0};return{oncreate:e=>{t.dom=e.dom},view:e=>{let s=e.attrs.eui,n=t.sortedData?t.sortedData:s.data;return t.height=s.height||"auto",i.default("div",{class:"grid",style:`height: ${t.height}`},i.default(r,{columns:s.columns,data:n,gridState:t}),i.default(l,{columns:s.columns,data:n,keyField:s.key,gridState:t}))}}}),t=>((t=s.applyClasses(t)).class.push("eui-data-grid"),t)}}}),System.register("eutsiv-ui/widget/data/Paging",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Button","eutsiv-ui/layout/Gutter"],function(t,e){"use strict";var i,s,n,u,r,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t},function(t){u=t},function(t){r=t}],execute:function(){t("Paging",()=>({view:t=>{let e=t.attrs.eui,o=e.page||1,l=e.rows.total,d=e.rows.perPage,c=l%d>0?Math.floor(l/d)+1:l/d,f=[...Array(c).keys()].map(t=>t+1),p=o*d;return p>l&&(p=l),i.default("nav",s.pipeAttrsHandlers(n.handleComponentClass,a)(t.attrs),[i.default(r.Gutter,{eui:{size:s.Sizes.SM}},i.default("span",{class:"eui-status"},`Displaying ${(o-1)*d+1} to ${p} of ${l}`)),...f.map(t=>{let n=Object.assign({},e.buildLink(t,d),{eui:{context:t==o?"primary":void 0,spaced:!0}});return i.default(r.Gutter,{eui:{fit:!1,size:s.Sizes.XS}},i.default(u.Button,n,t))})])}})),a=(t=>(t.class.push("eui-paging"),t))}}}),System.register("eutsiv-ui/widget/form/ImprovedSelect",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("ImprovedSelect",()=>{})}}}),System.register("eutsiv-ui/widget/form/MonthPicker",["mithril","eutsiv-ui/widget/Button","eutsiv-ui/widget/Icon"],function(t,e){"use strict";var i,s,n,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){u=(t=>{let e=t.getFullYear(),i=t.getMonth();return 11==i?(i=0,e++):i++,new Date(e,i,1)}),r=(t=>{let e=t.getFullYear(),i=t.getMonth();return 0==i?(i=11,e--):i--,new Date(e,i,1)}),t("MonthPicker",()=>{let t=new Date;return{view:()=>[i.default("input",{style:"display:none"}),i.default(s.Button,{onclick:()=>{t=r(t)}},i.default(n.Icon,{eui:{type:"minus"}})),i.default("input",{value:`${t.getMonth()+1} - ${t.getFullYear()}`}),i.default(s.Button,{onclick:()=>{t=u(t)}},i.default(n.Icon,{eui:{type:"plus"}}))]}})}}}),System.register("eutsiv-ui/widget/form/Select",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("Select",()=>{})}}}),System.register("eutsiv-ui/widget/tree/Tree",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,n,u,r,a,o,l;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){n=t}],execute:function(){u=((t,e,s)=>(e+=16,t.map(t=>"branch"==t.type?i.default(r,{item:t,indentation:e,treeState:s}):i.default(a,Object.assign({},t,{indentation:e}))))),r=(({attrs:t})=>{let e=!1;return{view:({attrs:t})=>{let s="eui-branch";return t.treeState.outsideUpdate&&("boolean"==typeof t.item.open?e=t.item.open:"boolean"==typeof t.treeState.open&&(e=t.treeState.open)),s+=e?" eui-open":"",i.default("li",{class:s,onclick:i=>{i.stopPropagation(),e=!e,t.treeState.clicked=!0}},[i.default(o,Object.assign({},t.item,{indentation:t.indentation})),i.default("ul",u(t.item.children,t.indentation,t.treeState))])}}}),a={view:({attrs:t})=>i.default("li",{class:"eui-leaf"},i.default(o,t))},o={view:({attrs:t})=>{let e="function"==typeof t.text?t.text():t.text,s={style:`padding-left:${t.indentation}px`,href:void 0,onclick:void 0,oncreate:void 0};return t.onclick&&(s.onclick=(e=>{e.stopPropagation(),e.preventDefault(),t.onclick(e)})),t.oncreate&&(s.oncreate=t.oncreate),s.href=t.href,i.default("a",s,e)}},t("Tree",()=>{let t={clicked:!1,open:!1,outsideUpdate:!0};return{onbeforeupdate:()=>{t.clicked?(t.clicked=!1,t.outsideUpdate=!1):t.outsideUpdate=!0},view:({attrs:e})=>(t.open=e.eui.open,i.default("ul",s.applyAttrsModifiers(e,l),u(e.eui.items,0,t)))}}),l=(t=>((t=n.applyClasses(t)).class.push("eui-tree"),t))}}});